{% extends "header.html" %}

{% block title %}Livres{% endblock title %}

{% block message %}Livres{% endblock message %}

{% block navBar %}
<marquee><h3></h3></marquee>
{% endblock navBar %}

{% block carouselInfo %}
<div class="">
    <form action="{{url_for('livres')}}" method="post">
        <div class="m-3">
          Titre :
        <input type="text" name="titre" class="form-control" placeholder="Titre ...." >
        </div>

        <div class="m-3">
            Description :
        <textarea name="description" class="form-control" placeholder="Description">

        </textarea>
         </div>

        <div class="m-3">
            Auteur :
            <input type="text" name="auteur" class="form-control" placeholder="Auteur ...." >
        </div>

        <div class="m-3">
            Genre :
            <select class="form-control" name="genre">
                <option value="Enfants"> Enfants </option>
                <option value="Programmation"> Programmation </option>
            </select>
        </div>

        <div class="m-3">
            Image :
            <input type="file" name="image" class="form-control" placeholder="" >
        </div>

        <div class="m-3">
            Date de publication :
            <input type="number" name="datepub" class="form-control" placeholder="" >
        </div>

        <div class="m-3 text-center">
            <button type="submit" class="btn btn-primary">Enregistrer</button>
       </div>
    </form>

    <div class="container text-center text-danger">
      {% with messages = get_flashed_messages() %}
        {% if messages %}
           {{ messages[0] }}
        {% endif %}
      {% endwith %}  
    </div>
</div>


{% endblock carouselInfo %}

{% block content %}

<<h2 class="text-center mt-5 mb-4">Liste des Livres</h2>
<table class="table table-striped table-bordered">
    <thead class="thead-dark">
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Titre</th>
            <th scope="col">Auteur</th>
            <th scope="col">Ann√©e de publication</th>
            <th scope="col">Description</th>
            <th scope="col">Genre</th>
            <th scope="col">Status</th>
            <th scope="col">Image</th>
            <th scope="col">Action</th>
        </tr>
    </thead>
    <tbody>
        {% for livre in livres %}
        <tr>
            <th scope="row">{{ livre.id }}</th>
            <td>{{ livre.titre }}</td>
            <td>{{ livre.auteur }}</td>
            <td>{{ livre.datepub }}</td>
            <td>{{ livre.description }}</td>
            <td>{{ livre.genre }}</td>
            <td>
                {% if livre.status == 0 %}
                    <span class="text-success">Disponible</span>
                {% else %}
                    <span class="text-danger">Indisponible</span>
                {% endif %}
            </td>
            <td><img src="{{ url_for('static', filename='images/' ~ livre.image) }}" alt="{{ livre.titre }}" width="75"></td>
            <td>
             <div class="d-flex"> 
                <a href="{{ url_for('modifier_livre', livre_id=livre.id) }}" class="btn btn-success"> Mod</a> ||
                <a href="{{ url_for('supprimer_livre', livre_id=livre.id) }}" class="btn btn-danger"> Sup</a>
             </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>


<section class="info_section  layout_padding2-top mt-5">
  <div class="social_container">
    <div class="social_box">
      <a href="">
        <i class="fa fa-facebook" aria-hidden="true"></i>
      </a>
      <a href="">
        <i class="fa fa-twitter" aria-hidden="true"></i>
      </a>
      <a href="">
        <i class="fa fa-instagram" aria-hidden="true"></i>
      </a>
      <a href="">
        <i class="fa fa-youtube" aria-hidden="true"></i>
      </a>
    </div>
  </div>
 
     
  <footer class=" footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="https://html.design/">Yang Bao</a>
      </p>
    </div>
  </footer>
  <!-- footer section -->

</section>

{% endblock content %}